{"version":3,"sources":["../../src/react-redux/Find.js"],"names":["PropTypes","Component","AbstractQuery","FindComponent","componentDidMount","query","action","dispatch","props","_find","fetch","result","componentWillUnmount","render","children","propTypes","func","isRequired","instanceOf","node"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,SAApB,QAAqC,OAArC;AACA,OAAOC,aAAP,MAA0B,wBAA1B;;AAEA,eAAe,MAAMC,aAAN,SAA4BF,SAA5B,CAAsC;;AAQnDG,sBAAoB;AAAA;;AAClB,QAAM,EAAEC,KAAF,EAASC,MAAT,EAAiBC,QAAjB,KAA8B,KAAKC,KAAzC;AACA,SAAKC,KAAL,GAAaJ,MAAMK,KAAN,CAAY,UAACC,MAAD,EAAY;AACnC,UAAI,CAAC,MAAKF,KAAV,EAAiB;AACjBF,eAASD,OAAOK,MAAP,CAAT;AACA,aAAO,MAAKF,KAAZ;AACD,KAJY,CAAb;AAKD;;AAEDG,yBAAuB;AACrB,QAAI,KAAKH,KAAT,EAAgB;AACd;AACA,aAAO,KAAKA,KAAZ;AACD;AACF;;AAEDI,WAAS;AACP,WAAO,KAAKL,KAAL,CAAWM,QAAlB;AACD;AA1BkD;AAAhCX,a,CACZY,S,GAAY;AACjBR,YAAUP,UAAUgB,IAAV,CAAeC,UADR;AAEjBX,UAAQN,UAAUgB,IAAV,CAAeC,UAFN;AAGjBZ,SAAOL,UAAUkB,UAAV,CAAqBhB,aAArB,EAAoCe,UAH1B;AAIjBH,YAAUd,UAAUmB;AAJH,C","file":"Find.js","sourcesContent":["import { PropTypes, Component } from 'react';\nimport AbstractQuery from '../store/AbstractQuery';\n\nexport default class FindComponent extends Component {\n  static propTypes = {\n    dispatch: PropTypes.func.isRequired,\n    action: PropTypes.func.isRequired,\n    query: PropTypes.instanceOf(AbstractQuery).isRequired,\n    children: PropTypes.node,\n  };\n\n  componentDidMount() {\n    const { query, action, dispatch } = this.props;\n    this._find = query.fetch((result) => {\n      if (!this._find) return;\n      dispatch(action(result));\n      delete this._find;\n    });\n  }\n\n  componentWillUnmount() {\n    if (this._find) {\n      // this._find.cancel();\n      delete this._find;\n    }\n  }\n\n  render() {\n    return this.props.children;\n  }\n}\n"]}